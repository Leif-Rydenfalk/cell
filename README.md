# Cell ‑ 42 Gbps RPC in 100 % safe Rust

Zero-copy, compile-time–checked remote-procedure framework that turns a 4-core desktop into a 40 GbE line-rate server.

## One-liner demo
```bash
git clone https://github.com/you/cell && cd cell
cargo install --path cell-cli
cd examples/cell-distributed-bench
cell run coordinator && cell use coordinator '{}'   # 5 GB/s on laptop below
```

## Numbers (Intel i5-7600K 3.8 GHz, 4 cores)
| Test | RPC/sec | Payload | Bandwidth |
|------|---------|---------|-----------|
| Throughput | 311 497 | 1 024 B | **5.31 GB/s** |
| Ping-pong | 111 272 | 64 B | 543 MB/s |

No `unsafe` after the kernel `dup(2)` call; 100 % CPU-bound on user space.

## Why Cell exists
*“We’re burning 30 % of our cores on JSON serde inside the order gateway.”*  
— every fintech eng ever

Cell replaces gRPC/Kafka inside a single Unix-domain socket:
* **rkyv archives** – wire format is **memory image**; zero decode/encode
* **compile-time schema** – client stubs generated by `call_as!(Service, request)`; wire drift = **compile error**
* **batched pipelining** – 64 requests → 1 `writev` syscall
* **nucleus supervisor** – keeps listener fd alive across binary upgrades (no DROP_CONNECTION)

## 30-second tour
1. Define service  
   ```rust
   service_schema! {
       service: order_gateway,
       request:  PlaceOrder { symbol: String, qty: u32 },
       response: OrderId    { id: u64 },
   }
   ```

2. Run it  
   ```bash
   cell run order_gateway   # builds, spawns, binds run/cell.sock
   ```

3. Call it from any thread  
   ```rust
   let resp: OrderId = call_as!(order_gateway, PlaceOrder { symbol: "AAPL".into(), qty: 100 })?;
   ```

## Layout
```
cell-cli/        – cargo-installable orchestrator (`cell run/stop/use`)
cell-sdk/        – `CellClient`, `run_service_with_schema`, rkyv helpers
cell-macros/     – `service_schema!` and `call_as!` proc macros
examples/
  cell-distributed-bench/   – 3-service topology that hits 48 Gbps on 16-core box
```

## The Complete Metaphor Mapping
Genome.toml (The Plan) →
ribosome (The Compiler/Macro) reads the plan →
Synthesizes Proteins (Rust Structs) →
Which float in the cytosol (SDK) →
And are transported by the golgi (Router) →
Across the membrane (CLI/Node) to other cells.

## Build & test
```bash
cargo build --release
cargo test
cargo bench  # requires nightly for `std::simd`
```

## Road-map
* TCP + TLS mode (currently Unix-domain only)
* `no_std` target for user-space DMA cards
* Service-mesh sidecar injector

## License
MIT OR Apache-2.0 – do what you want, just don’t blame us if you saturate your NIC.

## Author
17 y/o, self-taught. 
